{% load static %}

<head>
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <!-- Sidebar Container (Sadece masaüstünde görünecek) -->
    <div class="sidebar-nature desktop-only" id="sidebarNature">

        <!-- Profile Section -->
        <div class="profile-nature">
            <img src="{% static 'images/Profil.png' %} alt="Profile" class="avatar-nature">
            <h3 class="profile-name-nature">Melih Yılmaz</h3>
            <p class="profile-role-nature">Full Stack Developer</p>
        </div>


        <!-- Navigation -->
        <div class="nav-section-nature">
            <a href="{% url 'core:home' %}" class="nav-link-nature active" title="Ana Sayfa">
                <i class="fas fa-home"></i>
                <span class="link-text">Ana Sayfa</span>
            </a>
            <a href="{%url 'core:unsplash_photos'%}" class="nav-link-nature" title="Fotograf">
                <i class="fas fa-camera"></i>
                <span class="link-text">Fotograf</span>
            </a>
            <a href="{% url 'core:projects' %}" class="nav-link-nature" title="Projeler">
                <i class="fas fa-project-diagram"></i>
                <span class="link-text">Projeler</span>
            </a>
            <a href="{% url 'core:blog_posts' %}" class="nav-link-nature" title="Blog">
                <i class="fas fa-pen-fancy"></i>
                <span class="link-text">Blog</span>
            </a>
            <a href="mailto:melih.yilmaz904@gmail.com" class="nav-link-nature" title="İletişim">
                <i class="fas fa-envelope"></i>
                <span class="link-text">İletişim</span>
            </a>
        </div>

        <!-- Theme Toggle -->
        <div class="theme-toggle-nature" id="themeToggleNature">
            <span class="theme-toggle-text-nature">Koyu Mod</span>
            <i class="fas fa-moon theme-icon-nature"></i>
        </div>
    </div>

    <!-- Mobile Bottom Navbar (Sadece mobilde görünecek) -->
    <div class="mobile-bottom-navbar mobile-only" id="mobileBottomNavbar">
        <a href="{% url 'core:home' %}" class="mobile-nav-link" title="Ana Sayfa">
            <i class="fas fa-home"></i>
            <span class="mobile-nav-text">Ana Sayfa</span>
        </a>
        <a href="{%url 'core:unsplash_photos'%}" class="mobile-nav-link" title="Fotograf">
            <i class="fas fa-camera"></i>
            <span class="mobile-nav-text">Fotoğraf</span>
        </a>
        <a href="{% url 'core:projects' %}" class="mobile-nav-link" title="Projeler">
            <i class="fas fa-project-diagram"></i>
            <span class="mobile-nav-text">Projeler</span>
        </a>
        <a href="{% url 'core:blog_posts' %}" class="mobile-nav-link" title="Blog">
            <i class="fas fa-pen-fancy"></i>
            <span class="mobile-nav-text">Blog</span>
        </a>
        <div class="mobile-nav-link" id="mobileMenuToggle" title="Menü">
            <i class="fas fa-bars"></i>
            <span class="mobile-nav-text">Menü</span>
        </div>
    </div>

    <!-- Mobile Menu Overlay (Sadece mobilde görünecek) -->
    <div class="mobile-menu-overlay mobile-only" id="mobileMenuOverlay">
        <div class="mobile-menu-content">
            <!-- Mobile Profile Section -->
            <div class="mobile-profile-section">
                <img src="{% static 'images/Profil.png' %}" alt="Profile" class="mobile-avatar">
                <h3 class="mobile-profile-name">Melih Yılmaz</h3>
                <p class="mobile-profile-role">Full Stack Developer</p>
            </div>

            <div class="mobile-menu-header">
                <button id="closeMobileMenu"><i class="fas fa-times"></i></button>
            </div>
            <div class="mobile-menu-links">
                <a href="{% url 'core:home' %}" class="mobile-menu-link">
                    <i class="fas fa-home"></i> Ana Sayfa
                </a>
                <a href="{%url 'core:unsplash_photos'%}" class="mobile-menu-link">
                    <i class="fas fa-camera"></i> Fotograf
                </a>
                <a href="{% url 'core:projects' %}" class="mobile-menu-link">
                    <i class="fas fa-project-diagram"></i> Projeler
                </a>
                <a href="{% url 'core:blog_posts' %}" class="mobile-menu-link">
                    <i class="fas fa-pen-fancy"></i> Blog
                </a>
                <a href="mailto:melih.yilmaz904@gmail.com" class="mobile-menu-link">
                    <i class="fas fa-envelope"></i> İletişim
                </a>
                <div class="mobile-menu-link" id="mobileThemeToggleInMenu">
                    <i class="fas fa-moon"></i> Tema Değiştir
                </div>
                <!-- Collapse Toggle Button -->
            </div>
        </div>
    </div>
    </div>

    <style>
        /* Masaüstü ve mobil ayırımı */
        .desktop-only {
            display: block;
        }

        .mobile-only {
            display: none;
        }

        /* Mobil görünüm için stiller (768px ve altı) */
        @media (max-width: 768px) {
            .desktop-only {
                display: none !important;
            }

            .mobile-only {
                display: flex;
            }

            .mobile-bottom-navbar {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: #2c3e50;
                z-index: 1000;
                justify-content: space-around;
                padding: 10px 0;
                box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            }

            .mobile-nav-link {
                color: #ecf0f1;
                font-size: 0.9rem;
                display: flex;
                flex-direction: column;
                align-items: center;
                text-decoration: none;
                flex: 1;
                padding: 5px 0;
            }

            .mobile-nav-text {
                font-size: 0.7rem;
                margin-top: 3px;
            }

            .mobile-menu-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.9);
                z-index: 2000;
                overflow-y: auto;
                display: none;
            }

            .mobile-menu-content {
                background: #34495e;
                min-height: 100%;
                padding: 20px;
                color: white;
            }

            /* Mobile Profile Section */
            .mobile-profile-section {
                text-align: center;
                margin-bottom: 30px;
                padding-top: 20px;
            }

            .mobile-avatar {
                width: 80px;
                height: 80px;
                border-radius: 50%;
                object-fit: cover;
                border: 3px solid #ecf0f1;
                margin-bottom: 10px;
            }

            .mobile-profile-name {
                margin: 5px 0;
                font-size: 1.3rem;
                color: white;
            }

            .mobile-profile-role {
                margin: 0;
                color: #bdc3c7;
                font-size: 0.9rem;
            }

            .mobile-menu-header {
                display: flex;
                justify-content: flex-end;
                margin-bottom: 20px;
            }

            .mobile-menu-links {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            .mobile-menu-link {
                color: white;
                text-decoration: none;
                font-size: 1.1rem;
                display: flex;
                align-items: center;
                gap: 15px;
                padding: 12px 15px;
                border-radius: 5px;
                transition: background 0.3s;
            }

            .mobile-menu-link:hover {
                background: #2c3e50;
            }

            #closeMobileMenu {
                background: none;
                border: none;
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
            }
        }

        /* Dark mode stilleri */
        body.dark-mode .mobile-bottom-navbar {
            background: #1a1a1a;
        }

        body.dark-mode .mobile-menu-content {
            background: #2d2d2d;
        }

        body.dark-mode .mobile-menu-link:hover {
            background: #1a1a1a;
        }

        body.dark-mode .mobile-profile-name {
            color: #f5f5f5;
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Masaüstü elementleri
            const themeToggle = document.getElementById('themeToggleNature');
            const themeIcon = themeToggle?.querySelector('.theme-icon-nature');

            // Mobil elementler
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
            const closeMobileMenu = document.getElementById('closeMobileMenu');
            const mobileThemeToggle = document.getElementById('mobileThemeToggleInMenu');
            const mobileThemeIcon = mobileThemeToggle?.querySelector('i');

            // Mobil menü toggle - sadece menü butonuna tıklanınca açılacak
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', (e) => {
                    e.preventDefault();
                    mobileMenuOverlay.style.display = 'block';
                    document.body.style.overflow = 'hidden';
                });
            }

            // Diğer mobil nav linkleri normal şekilde çalışacak
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link:not(#mobileMenuToggle)');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenuOverlay.style.display = 'none';
                    document.body.style.overflow = '';
                });
            });

            if (closeMobileMenu) {
                closeMobileMenu.addEventListener('click', () => {
                    mobileMenuOverlay.style.display = 'none';
                    document.body.style.overflow = '';
                });
            }

            // Tema değiştirme fonksiyonu
            function toggleTheme() {
                document.body.classList.toggle('dark-mode');

                const icons = [];
                if (themeIcon) icons.push(themeIcon);
                if (mobileThemeIcon) icons.push(mobileThemeIcon);

                icons.forEach(icon => {
                    if (document.body.classList.contains('dark-mode')) {
                        icon.classList.remove('fa-moon');
                        icon.classList.add('fa-sun');
                    } else {
                        icon.classList.remove('fa-sun');
                        icon.classList.add('fa-moon');
                    }
                });

                localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
            }

            // Tema değiştirme event listener'ları
            if (themeToggle) {
                themeToggle.addEventListener('click', toggleTheme);
            }

            if (mobileThemeToggle) {
                mobileThemeToggle.addEventListener('click', toggleTheme);
            }

            // Kayıtlı tema tercihini yükle
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                const icons = [];
                if (themeIcon) icons.push(themeIcon);
                if (mobileThemeIcon) icons.push(mobileThemeIcon);

                icons.forEach(icon => {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                });
            }
        });
    </script>

</body>