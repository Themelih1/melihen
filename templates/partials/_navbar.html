{% load static %}

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
    
    <!-- Senin CSS dosyan -->
    <link rel="stylesheet" href="{% static '/css/navbar.css' %}">
</head>

<body>

    <!-- Modern Glass Sidebar (Desktop) -->
    <div class="modern-sidebar desktop-only" id="sidebarNature">
        <!-- Profile Section with Gradient Background -->
        <div class="profile-section">
            <div class="profile-gradient">
                <img src="{% static 'images/Profil.png' %}" alt="Profile" class="profile-avatar">
            </div>
            <div class="profile-info">
                <h3 class="profile-name"></h3>
                <p class="profile-role">Bir köşe, bir ben</p>
                <div class="profile-social">
                   
                </div>
            </div>
        </div>

        <!-- Navigation with Animated Indicators -->
        <div class="nav-section">
            <a href="{% url 'core:home' %}" class="nav-link active">
                <div class="nav-icon"><i class="fas fa-home"></i></div>
                <span class="nav-text">Ana Sayfa</span>
                <div class="nav-indicator"></div>
            </a>

            <a href="{% url 'core:blog_posts' %}" class="nav-link">
                <div class="nav-icon"><i class="fas fa-pen-fancy"></i></div>
                <span class="nav-text">Blog</span>
                <div class="nav-indicator"></div>
            </a>
            <a href="mailto:melih.yilmaz904@gmail.com" class="nav-link">
                <div class="nav-icon"><i class="fas fa-envelope"></i></div>
                <span class="nav-text">İletişim</span>
                <div class="nav-indicator"></div>
            </a>
        </div>

        <!-- Collapse Toggle with Modern Design -->
        <div class="collapse-toggle" id="collapseToggleNature">
            <div class="toggle-circle">
                <i class="fas fa-chevron-left toggle-arrow"></i>
            </div>
        </div>

        <!-- Theme and Settings Section -->
        <div class="sidebar-footer">
            <div class="theme-toggle" id="themeToggleNature">
                <div class="toggle-switch">
                    <div class="switch-knob"></div>
                </div>
                <span class="theme-label">Koyu Mod</span>
            </div>
            <div class="settings-btn">
                <i class="fas fa-cog"></i>
            </div>
        </div>
    </div>

    <!-- Modern Floating Mobile Navbar - İkinci Koddan Alınan Stil -->
    <div class="mobile-navbar mobile-only">
        <div class="mobile-nav-container">
            <a href="{% url 'core:home' %}" class="mobile-nav-link active" title="Ana Sayfa">
                <i class="fas fa-home"></i>
            </a>

            <a href="{% url 'core:blog_posts' %}" class="mobile-nav-link" title="Blog">
                <i class="fas fa-pen-fancy"></i>
            </a>
            <a href="mailto:melih.yilmaz904@gmail.com" class="mobile-nav-link" title="İletişim">
                <i class="fas fa-envelope"></i>
            </a>
            <button class="mobile-menu-btn" id="mobileMenuToggle" title="Menü">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
        </div>
    </div>

    <!-- Modern Mobile Menu -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay">
        <div class="mobile-menu-container">
            <div class="mobile-menu-header">
                <div class="mobile-profile">
                    <img src="{% static 'images/Profil.png' %}" alt="Profile" class="mobile-avatar">
                    <div class="mobile-profile-info">
                        <h3></h3>
                        <p class="profile-role">Bir köşe, bir ben.</p>
                    </div>
                </div>
                <button class="close-menu-btn" id="closeMobileMenu">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="mobile-menu-links">
                <a href="{% url 'core:home' %}" class="mobile-menu-link">
                    <i class="fas fa-home"></i>
                    <span>Ana Sayfa</span>
                    <i class="fas fa-chevron-right"></i>
                </a>
                <a href="{% url 'core:blog_posts' %}" class="mobile-menu-link">
                    <i class="fas fa-pen-fancy"></i>
                    <span>Blog</span>
                    <i class="fas fa-chevron-right"></i>
                </a>
                <a href="mailto:melih.yilmaz904@gmail.com" class="mobile-menu-link">
                    <i class="fas fa-envelope"></i>
                    <span>İletişim</span>
                    <i class="fas fa-chevron-right"></i>
                </a>
            </div>

            <div class="mobile-menu-footer">
                <div class="mobile-theme-toggle" id="mobileThemeToggle">
                    <i class="fas fa-moon"></i>
                    <span>Tema Değiştir</span>
                    <div class="mobile-toggle-switch">
                        <div class="mobile-switch-knob"></div>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>

    

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Desktop Elements
            const themeToggle = document.getElementById('themeToggleNature');
            const collapseToggle = document.getElementById('collapseToggleNature');
            const sidebar = document.getElementById('sidebarNature');

            // Mobile Elements
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
            const closeMobileMenu = document.getElementById('closeMobileMenu');
            const mobileThemeToggle = document.getElementById('mobileThemeToggle');

            // Toggle Sidebar Collapse
            if (collapseToggle && sidebar) {
                collapseToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('collapsed');
                    localStorage.setItem('sidebarCollapsed', sidebar.classList.contains('collapsed'));
                });

                // Load saved state
                if (localStorage.getItem('sidebarCollapsed') === 'true') {
                    sidebar.classList.add('collapsed');
                }
            }

            // Toggle Mobile Menu
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', () => {
                    mobileMenuToggle.classList.toggle('active');
                    mobileMenuOverlay.classList.toggle('active');
                    document.body.style.overflow = mobileMenuOverlay.classList.contains('active') ? 'hidden' : '';
                });
            }

            // Close Mobile Menu
            if (closeMobileMenu) {
                closeMobileMenu.addEventListener('click', () => {
                    mobileMenuToggle.classList.remove('active');
                    mobileMenuOverlay.classList.remove('active');
                    document.body.style.overflow = '';
                });
            }

            // Toggle Theme Function
            function toggleTheme() {
                document.body.classList.toggle('dark-mode');

                // Save theme preference
                const isDarkMode = document.body.classList.contains('dark-mode');
                localStorage.setItem('darkMode', isDarkMode);

                // Update UI elements
                updateThemeUI();

                // Update theme text
                const themeLabels = document.querySelectorAll('.theme-label');
                themeLabels.forEach(label => {
                    label.textContent = isDarkMode ? 'Açık Mod' : 'Koyu Mod';
                });
            }

            // Update Theme UI Elements
            function updateThemeUI() {
                const isDarkMode = document.body.classList.contains('dark-mode');
                const themeSwitches = document.querySelectorAll('.toggle-switch, .mobile-toggle-switch');
                const themeKnobs = document.querySelectorAll('.switch-knob, .mobile-switch-knob');
                const moonIcons = document.querySelectorAll('.mobile-theme-toggle i');

                themeSwitches.forEach(switchEl => {
                    switchEl.style.background = isDarkMode ? '#555' : '#ccc';
                });

                themeKnobs.forEach(knob => {
                    knob.style.transform = isDarkMode ? 'translateX(20px)' : 'translateX(2px)';
                    knob.style.background = isDarkMode ? 'var(--light-color)' : 'white';
                });

                moonIcons.forEach(icon => {
                    icon.className = isDarkMode ? 'fas fa-sun' : 'fas fa-moon';
                });
            }

            // Theme Toggle Event Listeners
            if (themeToggle) {
                themeToggle.addEventListener('click', toggleTheme);
            }

            if (mobileThemeToggle) {
                mobileThemeToggle.addEventListener('click', toggleTheme);
            }

            // Load saved theme preference
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                updateThemeUI();
            }

            // Close mobile menu when clicking on links
            const mobileMenuLinks = document.querySelectorAll('.mobile-menu-link');
            mobileMenuLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenuToggle.classList.remove('active');
                    mobileMenuOverlay.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });

            // Set active nav link based on current page
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link');

            navLinks.forEach(link => {
                if (link.href) {
                    const linkPath = new URL(link.href).pathname;
                    if (currentPath === linkPath) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                }
            });
        });
    </script>
</body>